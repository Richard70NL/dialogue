/************************************************************************************************/

use crate::text::s;
use crate::text::Text::*;

/************************************************************************************************/

#[derive(Debug)]
pub struct DialogueError {
    messages: Vec<String>,
}

/************************************************************************************************/

impl DialogueError {
    /*------------------------------------------------------------------------------------------*/

    pub fn new(message: String) -> DialogueError {
        DialogueError {
            messages: Vec::new(),
        }
        .add(message)
    }

    /*------------------------------------------------------------------------------------------*/

    pub fn add(mut self, message: String) -> DialogueError {
        self.messages.insert(0, message);
        self
    }

    /*------------------------------------------------------------------------------------------*/

    pub fn show(&self) {
        // FIXME: use error logging (LogMessage)

        eprintln!("{}", s(ErrorDialogue));
        for msg in &self.messages {
            eprintln!("- {}", msg);
        }
    }

    /*------------------------------------------------------------------------------------------*/
}

/************************************************************************************************/
